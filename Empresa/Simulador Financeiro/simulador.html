<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Financeira - V3T</title>
</head>
<body>
    <h1>Calculadora Financeira - V3T</h1>
    <p>
        Nossa calculadora financeira tem como principal objetivo ajudar você a entender melhor o impacto das falhas no sistema de monitoramento de temperatura em seu negócio. <br>
        Com base nas informações fornecidas, calculamos quanto sua organização poderia perder nessas situações e, a partir disso, mostramos como reduzir esses riscos. <br>
        Nosso propósito é apoiar sua empresa na mitigação dessas falhas, garantindo maior segurança operacional e potencializando seus lucros.
    </p> 

    <p>
        Nome Empresarial: V3T S.A
        <br>Contato: (11) 99999-9999
        <br>Email: V3TSA@gmail.com
        <br>CPNJ: 03.208.630/0001-45
    </p>
    
    <br><br>

    Quantos kilogramas(Kg) é armazenado dessa matéria prima? <br>
    <input type="text" id="ipt_kilos"> <br><br>
    Qual o preço médio por kilograma(Kg)? <br>
    <input type="text" id="ipt_preco"> <br><br>
    Qual a porcentagem da perda(em %)? <br>
    <input type="text" id="iptPercent"> <br><br>

    O IPCC, que se dedica a promover práticas sustentáveis para produção e armazenamento de proteínas vegetais, alerta que a falta de controle de temperatura e umidade pode levar a perdas de <b>15% a 30% em proteínas vegetais</b>, dependendo da planta e do processo. Isso ocorre especialmente em ambientes de armazenamento de longo prazo, onde a desidratação e degradação são mais significativas.
    <br><i>Fonte: International Protein Council - Report on Food Sustainability and Preservation Technologies (2020). Disponível em IPCC Report</i>
    <br><br>

    <button onclick="calculo()">Calcular</button>
    <br><br>
    
    <div id="msg"></div>
</body>
<script>    
    function calculo(){
        // Variáveis Locais dos Inputs
        var ax_kilos = Number(ipt_kilos.value);
        var ax_preco = Number(ipt_preco.value);
        var perPerda = Number(iptPercent.value) / 100; //Percentual da Perda informada pelo usuario em decimal

        //Variáveis contexto os valores dos calculos
        var precoKilo = ax_kilos * ax_preco;
        var prejuizo = (ax_kilos * ax_preco) * perPerda; // Exemplo: (20kgs X 20Reais) X 0.2(20%)
        
        //Variaveis que serão utilizadas dentro das condições
        var saldoPositivo;
        var perEconomia;
        //Com base nas diferentes condições as variaveis, antes não inicializadas, recebem valores que variam com base na condição
        if(perPerda <= 0.15){ // Menor e Igual à 15%
            saldoPositivo = perPerda * 1/3; // Variável utilizada para calcular a porcentagem(33%) da porcentagem(X%) informada pelo cliente
            perEconomia = perPerda - saldoPositivo; // Retira a porcentagem(33%) dos X% que o usuario informa
        }else{
        
            saldoPositivo = 0.08 / perPerda // Variável utilizada para calcular a razão(%) que 8% tem dentro do X% informado pelo usuário(se 20% == 100% então 8% == ?)
            perEconomia = perPerda - 0.08 // Calcular quantos % sobra após aplicarmos nossa porcentagem de economia graças a solução IoTs
        }

        msg.innerHTML = `O alimento deve ser armazenado em uma faixa de temperatura controlada entre <b>+4 °C e +10 °C</b>`;
        msg.innerHTML += `<br>No seu estoque atual, você possui <b>${ax_kilos} Kg</b> desse produto, com um preço médio de <b>R$ ${ax_preco}</b>, totalizando R$ <b>R$ ${precoKilo.toFixed(2)}</b>`;
        msg.innerHTML += `<br>Entretanto, considerando que em média <b>${(perPerda * 100).toFixed(1)}%</b> são perdidos devido a falhas de temperatura, sua empresa teria um prejuízo aproximado de <b style='color: red';>R$ ${prejuizo.toFixed(2)}</b>`;
        
        msg.innerHTML += `<br>A solução proposta pela V3T diminui a perda de ${(perPerda * 100).toFixed(1)}% para <b style='color:green'>${((perEconomia) * 100).toFixed(1)}%</b> resultando em uma economia de <b style='color:green'>R$ ${(prejuizo * saldoPositivo).toFixed(2)}</b>`

        ipt_kilos.value = '';
        ipt_preco.value = '';
        iptPercent.value = '';
    }

</script>
</html>